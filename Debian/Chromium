FROM debian:9.4

RUN apt-get update
RUN apt install -y curl \
                   build-essential 
                  
RUN curl --silent --location https://deb.nodesource.com/setup_8.x | bash - 
RUN apt-get install nodejs -y

RUN curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg |  apt-key add -
RUN echo "deb https://dl.yarnpkg.com/debian/ stable main" |  tee /etc/apt/sources.list.d/yarn.list

RUN apt-get update 
RUN apt-get install yarn -y

RUN apt-get install -y software-properties-common
RUN add-apt-repository ppa:canonical-chromium-builds/stage 
RUN apt-get remove chromium-browser
RUN apt-get -y update
RUN apt-get install -y chromium
# RUN apt-get install -y libgles2-mesa

ENV CHROME_BIN=/usr/bin/chromium-browser
ENV CHROME_PATH=/usr/lib/chromium/

RUN echo 'export CHROMIUM_FLAGS="-no-sandbox --disable-background-networking --disable-extensions"' >> /etc/chromium.d/default-flags
# # Command to run browser: chromium

RUN chromium --version

WORKDIR /home

CMD ["/bin/bash"]